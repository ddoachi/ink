---
id: E05-F01
title: Search Panel UI
type: Feature
priority: P0 (MVP)
status: Draft
parent: E05
created: 2025-12-26
estimated_hours:
actual_hours:
effort:
tags: []
---

# Spec: E05-F01 - Search Panel UI

## 1. Overview

### 1.1 Problem Statement
Engineers need a dedicated UI component to search for objects in large netlists. The search panel must provide quick keyboard access, real-time filtering, type-based filtering, and easy result navigation without cluttering the main interface.

### 1.2 Goals
- Provide a dedicated search panel with keyboard shortcut access (`Ctrl+F`)
- Display search input, filter controls, and results list in a single cohesive UI
- Enable quick access to search history
- Integrate seamlessly with the main window layout

---

## 2. User Stories

### US-E05-01: Open Search
**As a** circuit designer
**I want to** quickly open search with `Ctrl+F`
**So that** I can find objects without leaving keyboard

**Acceptance Criteria:**
- [ ] `Ctrl+F` opens search dialog/panel
- [ ] Focus immediately in search input
- [ ] `Escape` closes search

### US-E05-06: Search by Type
**As a** circuit designer
**I want to** filter search by object type
**So that** I can narrow results

**Acceptance Criteria:**
- [ ] Filter options: All, Cells, Pins, Nets, Ports
- [ ] Filter persists across searches
- [ ] Result count shown per type

---

## 3. Technical Requirements

### 3.1 Search Panel Component

```python
class SearchPanel(QWidget):
    """Dedicated search panel widget"""

    # UI Components
    search_input: QLineEdit          # Text input for search query
    filter_buttons: QButtonGroup     # Type filter buttons
    results_list: QListWidget        # Search results display
    history_dropdown: QComboBox      # Recent searches
    status_label: QLabel             # Result count/status

    # Signals
    result_selected: Signal[str]     # Emitted when user clicks result (object_id)
    search_closed: Signal            # Emitted when panel is closed
    search_executed: Signal[str]     # Emitted when search is triggered
```

### 3.2 Layout

```
┌─ Search Panel ─────────────────────────────────┐
│  Search: [___________] [History ▼]             │
│  Filters: ( All ) ( Cells ) ( Pins ) ( Nets )  │
│  ┌─────────────────────────────────────────┐   │
│  │ Results (25 found)                      │   │
│  │ • clk_buffer_1 (Cell)                   │   │
│  │ • clk_buffer_2 (Cell)                   │   │
│  │ • net_clk (Net)                         │   │
│  │ • ...                                   │   │
│  └─────────────────────────────────────────┘   │
└────────────────────────────────────────────────┘
```

### 3.3 Keyboard Shortcuts

| Shortcut | Action |
|----------|--------|
| `Ctrl+F` | Open search panel and focus input |
| `Escape` | Close search panel |
| `Enter` | Navigate to first result |
| `Up/Down` | Navigate results list |

### 3.4 Integration Points

- **Main Window**: Search panel integrated into bottom panel or floating dialog
- **Application Service**: Connect to `SearchService` for query execution
- **Canvas**: Send navigation requests when result is selected

---

## 4. Dependencies

- **Upstream**:
  - E01 (Data Model - object names for display)
  - E05-F02 (Search Engine - query execution backend)
- **Downstream**:
  - E05-F04 (Navigation - result selection triggers navigation)
  - E05-F05 (Search History - history dropdown population)

---

## 5. Acceptance Criteria

- [ ] Search panel accessible via `Ctrl+F` shortcut
- [ ] Search input receives focus immediately on open
- [ ] `Escape` key closes panel
- [ ] Filter buttons toggle between All/Cells/Pins/Nets/Ports
- [ ] Selected filter persists across searches
- [ ] Results list displays object name, type, and context
- [ ] Click on result emits `result_selected` signal
- [ ] Result count displayed in status label
- [ ] History dropdown shows recent searches
- [ ] Panel integrates with main window layout

---

## 6. Child Specs

| ID | Task | Status | Estimated Hours |
|----|------|--------|-----------------|
| [E05-F01-T01](T01/E05-F01-T01.spec.md) | SearchPanel Widget Foundation | Draft | 4h |
| [E05-F01-T02](T02/E05-F01-T02.spec.md) | Type Filter Buttons | Draft | 3h |
| [E05-F01-T03](T03/E05-F01-T03.spec.md) | Results List Widget | Draft | 5h |
| [E05-F01-T04](T04/E05-F01-T04.spec.md) | Search History Dropdown | Draft | 3h |
| [E05-F01-T05](T05/E05-F01-T05.spec.md) | Keyboard Shortcuts Integration | Draft | 2h |

**Total Estimated Hours**: 17h

---

## Revision History
| Date | Version | Author | Changes |
|------|---------|--------|---------|
| 2025-12-26 | 0.1 | Claude | Initial feature creation from E05 split |
