# Spec: E06-F02-T01 - Menu Bar Setup

## Metadata
- **ID**: E06-F02-T01
- **Type**: Task
- **Priority**: P0 (MVP)
- **Status**: Draft
- **Parent**: [E06-F02](../E06-F02.spec.md)
- **Created**: 2025-12-26
- **Estimated Hours**: 2
- **Actual Hours**:
- **Effort**: Small
- **Tags**: [ui, menus]

---

## 1. Overview

### 1.1 Problem Statement

The main window needs a menu bar structure with File, Edit, View, and Help menus to provide access to application features. This task sets up the foundational menu bar architecture that subsequent tasks will populate with actions.

### 1.2 Goals

- Create `QMenuBar` instance in `InkMainWindow`
- Add File, Edit, View, and Help top-level menus
- Implement helper methods for menu creation
- Ensure menu bar is properly attached to main window
- Provide structure for menu population in subsequent tasks

---

## 2. Technical Requirements

### 2.1 Menu Bar Structure

Extend `InkMainWindow` class to include menu bar setup:

```python
# src/ink/presentation/main_window.py

from PySide6.QtWidgets import QMainWindow, QMenuBar, QMenu
from PySide6.QtGui import QAction

class InkMainWindow(QMainWindow):
    def __init__(self):
        super().__init__()
        self._setup_ui()
        self._setup_menus()  # NEW: Menu bar setup

    def _setup_menus(self):
        """Create menu bar and all top-level menus."""
        # Create menu bar (automatically attached to QMainWindow)
        menubar = self.menuBar()

        # File Menu
        self.file_menu = menubar.addMenu("&File")
        self._create_file_menu()

        # Edit Menu
        self.edit_menu = menubar.addMenu("&Edit")
        self._create_edit_menu()

        # View Menu
        self.view_menu = menubar.addMenu("&View")
        self._create_view_menu()

        # Help Menu
        self.help_menu = menubar.addMenu("&Help")
        self._create_help_menu()

    def _create_file_menu(self):
        """Create File menu items."""
        # To be implemented in T02
        pass

    def _create_edit_menu(self):
        """Create Edit menu items."""
        # To be implemented in T03
        pass

    def _create_view_menu(self):
        """Create View menu items."""
        # To be implemented in T04
        pass

    def _create_help_menu(self):
        """Create Help menu items."""
        # To be implemented in T04
        pass
```

### 2.2 Menu Naming Conventions

Use mnemonics (Alt+key access) for menu names:
- `"&File"` - Alt+F activates File menu
- `"&Edit"` - Alt+E activates Edit menu
- `"&View"` - Alt+V activates View menu
- `"&Help"` - Alt+H activates Help menu

### 2.3 Implementation Details

- Menu bar is automatically created and managed by `QMainWindow.menuBar()`
- Store menu references as instance variables (`self.file_menu`, etc.)
- Use helper methods (`_create_*_menu()`) to keep code organized
- Helper methods initially contain `pass` statements (populated in later tasks)

---

## 3. Dependencies

- **Upstream**:
  - E06-F01 (Main Window Shell - `InkMainWindow` class exists)
- **Downstream**:
  - E06-F02-T02 (File Menu Actions)
  - E06-F02-T03 (Edit Menu Actions)
  - E06-F02-T04 (View and Help Menus)
- **External**: PySide6 (`QMenuBar`, `QMenu`)

---

## 4. Acceptance Criteria

- [ ] Menu bar appears in main window
- [ ] File, Edit, View, Help menus visible in menu bar
- [ ] Menus use correct mnemonics (`&File`, `&Edit`, `&View`, `&Help`)
- [ ] All four menus are clickable and open (though empty)
- [ ] Helper methods `_create_file_menu()`, `_create_edit_menu()`, `_create_view_menu()`, `_create_help_menu()` exist
- [ ] Menu references stored as instance variables
- [ ] Code follows project naming conventions and style guide

---

## 5. Testing Strategy

### Manual Testing
1. Launch application
2. Verify menu bar visible at top of window
3. Click each menu (File, Edit, View, Help)
4. Verify menus open (though empty)
5. Test Alt+F, Alt+E, Alt+V, Alt+H keyboard access

### Unit Tests
```python
# tests/ui/test_main_window.py

def test_menu_bar_exists(main_window):
    """Test that menu bar is created."""
    menubar = main_window.menuBar()
    assert menubar is not None

def test_top_level_menus_exist(main_window):
    """Test that File, Edit, View, Help menus exist."""
    assert main_window.file_menu is not None
    assert main_window.edit_menu is not None
    assert main_window.view_menu is not None
    assert main_window.help_menu is not None

def test_menu_titles(main_window):
    """Test menu titles and mnemonics."""
    assert main_window.file_menu.title() == "&File"
    assert main_window.edit_menu.title() == "&Edit"
    assert main_window.view_menu.title() == "&View"
    assert main_window.help_menu.title() == "&Help"
```

---

## 6. Implementation Notes

- This task creates only the menu structure, not the actions
- Keep `_create_*_menu()` methods empty (stub with `pass`)
- Ensure menu bar is set up after `_setup_ui()` in `__init__`
- Qt handles menu bar positioning automatically on different platforms

---

## Revision History

| Date | Version | Author | Changes |
|------|---------|--------|---------|
| 2025-12-26 | 0.1 | Claude | Initial task creation from E06-F02 split |
